{
  "id": "5a34e837-1c08-42fe-8db2-eed87e7bb002",
  "revision": 0,
  "last_node_id": 88,
  "last_link_id": 188,
  "nodes": [
    {
      "id": 51,
      "type": "LoadImage",
      "pos": [
        -50,
        -10
      ],
      "size": [
        290,
        326
      ],
      "flags": {
        "pinned": true
      },
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            135,
            160,
            170,
            183
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Load image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "LoadImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "1girl-touhou-purple-hair-purple-eyes-long-hair-hair-streaked-hair-small-breasts-labcoat-whi.png",
        "image"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 65,
      "type": "PrimitiveInt",
      "pos": [
        -50,
        360
      ],
      "size": [
        290,
        82
      ],
      "flags": {
        "collapsed": false,
        "pinned": true
      },
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            136,
            180,
            188
          ]
        }
      ],
      "title": "Text lines",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        30,
        "fixed"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 72,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        -20,
        650
      ],
      "size": [
        270,
        78
      ],
      "flags": {
        "collapsed": false,
        "pinned": true
      },
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            159
          ]
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-subpack",
        "ver": "74db20c95eca152a6d686c914edc0ef4e4762cb8",
        "Node name for S&R": "UltralyticsDetectorProvider",
        "ue_properties": {
          "widget_ue_connectable": {
            "model_name": true
          },
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "bbox/Eyes.pt"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "shape": 1
    },
    {
      "id": 80,
      "type": "SAMLoader",
      "pos": [
        -20,
        770
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": false,
        "pinned": true
      },
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            168
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "8.28.0",
        "Node name for S&R": "SAMLoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "sam_vit_h_4b8939.pth",
        "AUTO"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 79,
      "type": "BboxDetectorSEGS",
      "pos": [
        270,
        640
      ],
      "size": [
        290,
        224
      ],
      "flags": {
        "collapsed": false,
        "pinned": true
      },
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 159
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 160
        },
        {
          "name": "detailer_hook",
          "shape": 7,
          "type": "DETAILER_HOOK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            169
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "8.28.0",
        "Node name for S&R": "BboxDetectorSEGS",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        0.4,
        10,
        4,
        10,
        "all"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 86,
      "type": "SAMDetectorCombined",
      "pos": [
        580,
        640
      ],
      "size": [
        301.361328125,
        218
      ],
      "flags": {
        "pinned": true
      },
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "sam_model",
          "type": "SAM_MODEL",
          "link": 168
        },
        {
          "name": "segs",
          "type": "SEGS",
          "link": 169
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 170
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            187
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-impact-pack",
        "ver": "8.28.0",
        "Node name for S&R": "SAMDetectorCombined",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 88,
      "type": "SjisVariableWidthGenerator",
      "pos": [
        590,
        -20
      ],
      "size": [
        318.56796875,
        626
      ],
      "flags": {
        "pinned": true
      },
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "original_image",
          "type": "IMAGE",
          "link": 183
        },
        {
          "name": "thinned_image",
          "type": "IMAGE",
          "link": 182
        },
        {
          "name": "opt_roi_mask",
          "shape": 7,
          "type": "MASK",
          "link": 187
        },
        {
          "name": "text_lines",
          "type": "INT",
          "widget": {
            "name": "text_lines"
          },
          "link": 180
        }
      ],
      "outputs": [
        {
          "name": "aa_image",
          "type": "IMAGE",
          "links": [
            184
          ]
        },
        {
          "name": "aa_text",
          "type": "STRING",
          "links": [
            185
          ]
        },
        {
          "name": "grid_image",
          "type": "IMAGE",
          "links": [
            186
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SjisVariableWidthGenerator",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "data/char_list_freq.csv",
        "Saitamaar.ttf",
        30,
        0,
        0,
        "Score-Priority",
        2,
        0.5,
        2.5,
        0.43,
        0.3,
        5,
        true,
        0,
        0.1,
        1,
        0,
        1,
        "3: Line-art Only",
        2,
        0.3,
        0.6,
        "data/char_tone.txt"
      ]
    },
    {
      "id": 71,
      "type": "SjisLineExtractor",
      "pos": [
        270,
        -20
      ],
      "size": [
        300,
        178
      ],
      "flags": {
        "pinned": true
      },
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 135
        },
        {
          "name": "text_lines",
          "type": "INT",
          "widget": {
            "name": "text_lines"
          },
          "link": 136
        }
      ],
      "outputs": [
        {
          "name": "line_image",
          "type": "IMAGE",
          "links": [
            137,
            144
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SjisLineExtractor",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        80,
        "Canny (Hard Edges)",
        216,
        4,
        3.5,
        false
      ]
    },
    {
      "id": 69,
      "type": "SjisThinning",
      "pos": [
        270,
        200
      ],
      "size": [
        300,
        106
      ],
      "flags": {
        "pinned": true
      },
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "line_image",
          "type": "IMAGE",
          "link": 137
        },
        {
          "name": "threshold",
          "type": "INT",
          "widget": {
            "name": "threshold"
          },
          "link": 188
        }
      ],
      "outputs": [
        {
          "name": "thinned_image",
          "type": "IMAGE",
          "links": [
            140,
            182
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SjisThinning",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        60,
        0,
        125
      ]
    },
    {
      "id": 55,
      "type": "ShowText|pysssss",
      "pos": [
        930,
        640
      ],
      "size": [
        780,
        530
      ],
      "flags": {
        "pinned": true
      },
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 185
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "1.2.5",
        "Node name for S&R": "ShowText|pysssss",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "　　　　　　　　　　　　　　　　　____.＿.___,　./｀　　　　ﾊ　　 \n　　　　　　　　　　　　　　,,..r.''ﾟ⌒.,.,　 .:..,ﾞ７¨ .,,.,　.,,,..ir.'''⌒:.\n　　　　　　　　　　　 ._,..:':-.'⌒￣￣'ミ_...ﾞ.l¨ ./,.':.''´　　　　 '\n　　　　　　　　　　　/..:.´.,,,..:-.;:i―::.,:-i:_.,! ¨:(,.　　　　　　　 \n　　　　　　　　　　/.i,.ｨ''.l´　　’ ,　　ﾟ, .:.-＼:.L,..._.__　　　　 .\n　　　　　　　　　 ﾉ..ﾞ ﾉ,._ .―:ｲ　i冖''＾.:.`'´　 |.ﾍ.-......￣I宀T\n　　　　　　　　　/ﾟ,:-),..r!..`´ﾞ .I,.ﾟl..　〉, ., ∨　.｀:,'! .ハ⌒:.　 .\n　　　　　　　 ._/.,ﾉ.:く.i　 |,　　 ,）.〈'.:.´'i,く.,ﾟ..　　.i.） .:..∨∫　\n　　　　　　　 ,{,./　　 |.,.:.;ﾄl,,　.ﾍ,ﾟ':ﾆ.ｰ.ｪ.ｭ.か　Λ.i.∧ﾍ. ﾔ .\n　　　　　　　 l.ﾞ（.　　（ﾟ'ｰ:.ュ.ｰ-:.'ﾆ.ﾆ竹' ｭ.ﾕ .,.:.:|　｀'ﾍ .ﾟ:.'', \n　　　　　　　人,''i,i　 l て.ｮﾖ.j.ュ..:i、　 ﾞ｀'ソ.:;.ﾆ::'|V　　.＼_.ﾞ:\n　　　　　　　　.｀/,|.:.､'-｀.ﾞﾞ｀jツ :- ｀￢.´ﾞ　 |　 _! ﾍ,　　　.ヾ\n　　　　　　 ._,):./　｀ ./--〉':,,　　　=　　 ._,x,'　 ﾉ　 .ﾟ.:､,　　 ﾟ\n　　　 ._,,__.g:':'':.　 ._/.ｨ（ﾞ.i'|::!,..:,r:..._._ _,..:'´ ｲ.i:, 'ｉ...,　　 ｀＜._\n:,...:ｃ:'.'⌒’ ,,ﾝ,,..,:.,.:′1..:''.'''／ﾟ　 .,,ｘ.''..　 ﾉ .| /　 ﾟ)､.　　　｀\n;z.´　 ,,._..',,.彡..:/ ､, ,,.::''.''.´　 ,,.-'⌒.!ﾟ,:ﾆ.:’　i.|　 .！ ヽ.,　　.\nﾞ .,,.,:''r.'''￣,_._:イ　.｀':-.　._...-:._,ｲ ﾟi_l .,|　.}.:　Λ　　!　　´i..　\n;,／二..,:＜,..:'/l!.,,r:.'ﾞ.｜ 7,,_..:.''｀.〉'::,.└'''ﾟi::.､, 〈.j..:.'’._,,..ﾆ.〉 \n:'.´_.::.´ ,,ｘ.:'ｧ:..::'´　　 .l,..:,..:::r'.ﾗﾟ).,ﾍ,　　 7　 ﾞヽ..':ﾍ.,´ﾞ　 .√\n..,.._...x.'´._,,:'´　　　　 ._/´.ｘ'´　/./　∨　iﾄ,,　　 .l'::くﾍ　　√.\n..:':..'゜ ,／∧　　　　 _/　　　_ノ'/　　 ﾞ;,.ﾉ .Λ／'′ .ⅴ　ﾉ　 \n,,:.i ,:<´　　 ﾟ;.　　　 /　,,...ｘ?.ﾟ（.∧　　 I.{　 Λ..r:―'.'´　.7　 .\n/ ﾟ〉　.,　 .,.l|ﾟ:.　　 .ｲ:.´ /〈　〈.,　 ﾍ,　ｲ　　　_i.,.::'.´ﾞ　　.i'i　 .\n!,.7　 ｲ ./ﾞ.∫.ﾟ　　_l｜.ｲ　　 ｲ:,　 .ﾟ':i.′　 /.′　　　　/　　.\n{√　.’.｜./.｀,,　 .√l.' |　　　.|ﾊ.　　｜　/!　　　　　　√　　\n.∫　 .,..:|./　 .´':ヒ::'｀.ﾟi’　　.（~　V　 l ./~.ﾔ　　　　　/.|　　.,\n..|.! .,.:.｀ 〉　　　　　　 _）　　　!　 ∧_ﾉ.7　 .ﾔ　　　　.ｲ_!　　,!\n. './′ √　　　　　 ./ﾞ〉　　 .,.I.　 .‘(|/　　 |　　　　　 .I　_/{ \n,.:′　.√　　　　　 .:},,　 ._　.ﾉ '　　 .｜　　ﾉ　　　　　.Ｙ:.:'./ .\nﾞ　　 ./　　　　　_:.:.!::.ﾟ,.., ﾍ,:.､_l‐-:ｰ.:.|　　ﾉ　　　　　._i.）'i\" _,"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 4,
      "type": "PreviewImage",
      "pos": [
        930,
        200
      ],
      "size": [
        380,
        400
      ],
      "flags": {
        "pinned": true
      },
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 186
        }
      ],
      "outputs": [],
      "title": "Detected Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 64,
      "type": "PreviewImage",
      "pos": [
        1320,
        200
      ],
      "size": [
        390,
        400
      ],
      "flags": {
        "pinned": true
      },
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 184
        }
      ],
      "outputs": [],
      "title": "Output Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 60,
      "type": "PreviewImage",
      "pos": [
        1320,
        -240
      ],
      "size": [
        390,
        400
      ],
      "flags": {
        "pinned": true
      },
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 140
        }
      ],
      "outputs": [],
      "title": "Thinned image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 54,
      "type": "PreviewImage",
      "pos": [
        940,
        -240
      ],
      "size": [
        370,
        400
      ],
      "flags": {
        "collapsed": false,
        "pinned": true
      },
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 144
        }
      ],
      "outputs": [],
      "title": "Line image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    }
  ],
  "links": [
    [
      135,
      51,
      0,
      71,
      0,
      "IMAGE"
    ],
    [
      136,
      65,
      0,
      71,
      1,
      "INT"
    ],
    [
      137,
      71,
      0,
      69,
      0,
      "IMAGE"
    ],
    [
      140,
      69,
      0,
      60,
      0,
      "IMAGE"
    ],
    [
      144,
      71,
      0,
      54,
      0,
      "IMAGE"
    ],
    [
      159,
      72,
      0,
      79,
      0,
      "BBOX_DETECTOR"
    ],
    [
      160,
      51,
      0,
      79,
      1,
      "IMAGE"
    ],
    [
      168,
      80,
      0,
      86,
      0,
      "SAM_MODEL"
    ],
    [
      169,
      79,
      0,
      86,
      1,
      "SEGS"
    ],
    [
      170,
      51,
      0,
      86,
      2,
      "IMAGE"
    ],
    [
      180,
      65,
      0,
      88,
      3,
      "INT"
    ],
    [
      182,
      69,
      0,
      88,
      1,
      "IMAGE"
    ],
    [
      183,
      51,
      0,
      88,
      0,
      "IMAGE"
    ],
    [
      184,
      88,
      0,
      64,
      0,
      "IMAGE"
    ],
    [
      185,
      88,
      1,
      55,
      0,
      "STRING"
    ],
    [
      186,
      88,
      2,
      4,
      0,
      "IMAGE"
    ],
    [
      187,
      86,
      0,
      88,
      2,
      "MASK"
    ],
    [
      188,
      65,
      0,
      69,
      1,
      "INT"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "workflowRendererVersion": "LG",
    "ue_links": [],
    "ds": {
      "scale": 1.2722275010880468,
      "offset": [
        -152.26637779972336,
        -210.9386377333153
      ]
    },
    "links_added_by_ue": [],
    "frontendVersion": "1.34.9",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}